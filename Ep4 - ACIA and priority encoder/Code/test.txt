     FD00             (         test.asm):00001         Cls             EQU     $FD00
     FD02             (         test.asm):00002         DelChar         EQU     $FD02
     FD04             (         test.asm):00003         GetStrByte      EQU     $FD04
     FD06             (         test.asm):00004         GetStrNibble    EQU     $FD06
     FD08             (         test.asm):00005         GetStrWord      EQU     $FD08
     FD0A             (         test.asm):00006         InByte          EQU     $FD0A
     FD0C             (         test.asm):00007         InChar          EQU     $FD0C
     FD0E             (         test.asm):00008         InCharNW        EQU     $FD0E
     FD10             (         test.asm):00009         InStr           EQU     $FD10
     FD12             (         test.asm):00010         InWord          EQU     $FD12
     FD14             (         test.asm):00011         OutChar         EQU     $FD14
     FD16             (         test.asm):00012         OutByte         EQU     $FD16
     FD18             (         test.asm):00013         OutCRLF         EQU     $FD18
     FD1A             (         test.asm):00014         OutNibble       EQU     $FD1A
     FD1C             (         test.asm):00015         OutStr          EQU     $FD1C
     FD1E             (         test.asm):00016         OutWord         EQU     $FD1E
     FD20             (         test.asm):00017         AscToBinNibble  EQU     $FD20
     FD22             (         test.asm):00018         AscToBinByte    EQU     $FD22
     FD24             (         test.asm):00019         AscToBinWord    EQU     $FD24
     FD26             (         test.asm):00020         BinToAscNibble  EQU     $FD26
     FD28             (         test.asm):00021         BinToAscByte    EQU     $FD28
     FD2A             (         test.asm):00022         BinToAscWord    EQU     $FD2A
     FD2C             (         test.asm):00023         BinToBcd        EQU     $FD2C
     FD2E             (         test.asm):00024         UpperCase       EQU     $FD2E
     FD30             (         test.asm):00025         OutBcd          EQU     $FD30
                      (         test.asm):00026         
     0000             (         test.asm):00027         NULL            EQU     $00             ; End delimiter
     0008             (         test.asm):00028         BS              EQU     $08             ; Backspace
     0009             (         test.asm):00029         TAB             EQU     $09             ; Horizontal Tab
     000D             (         test.asm):00030         CR              EQU     $0D             ; Carriage return
     000A             (         test.asm):00031         LF              EQU     $0A             ; Line feed
     001B             (         test.asm):00032         ESC             EQU     $1B             ; Escape
     0020             (         test.asm):00033         SPACE           EQU     $20             ; Space
     00FF             (         test.asm):00034         EOD             EQU     $FF             ; End of data, used by some routines
                      (         test.asm):00035         
     E000             (         test.asm):00036         RomStart        EQU     $E000
                      (         test.asm):00037         
                      (         test.asm):00038             PRAGMA  CD                  ; Detailed cycle count
                      (         test.asm):00039             PRAGMA  CT                  ; Cycle count running subtotal
                      (         test.asm):00040                     
                      (         test.asm):00041                     ORG     $1000
                      (         test.asm):00042                 
1000                  (         test.asm):00043                 Start:
1000 12               (         test.asm):00044 (1)     1           nop
1001 BD1007           (         test.asm):00045 (7)     8           jsr     Diagnostics
1004 7E10AF           (         test.asm):00046 (3)     11          jmp     PrgEnd
                      (         test.asm):00047                 
1007                  (         test.asm):00048                 Diagnostics:
1007 8E1074           (         test.asm):00049 (3)     14          ldx     #DiagMessage
100A AD9FFD1C         (         test.asm):00050 (6+5)   25          jsr     [OutStr]
100E                  (         test.asm):00051                 DiagBase:
100E 8E1082           (         test.asm):00052 (3)     28          ldx     #DiagTestingMsg
1011 AD9FFD1C         (         test.asm):00053 (6+5)   39          jsr     [OutStr]
1015 8E2000           (         test.asm):00054 (3)     42          ldx     #$2000              ; Start address pointer
1018 108EE000         (         test.asm):00055 (4)     46          ldy     #RomStart           ; End address pointer
101C 115F             (         test.asm):00056 (2)     48          clrf                        ; Clear error flag
101E                  (         test.asm):00057                 DiagBaseLoop:
101E BD104B           (         test.asm):00058 (7)     55          jsr     DiagTest            ; Test RAM cell with different patterns
1021 3001             (         test.asm):00059 (4+1)   60          leax    1,X                 ; Increment address pointer
1023 103712           (         test.asm):00060 (4)     64          cmpr    X,Y
1026 26F6             (         test.asm):00061 (3)     67          bne     DiagBaseLoop
1028 105D             (         test.asm):00062 (2)     69          tstw
102A 2617             (         test.asm):00063 (3)     72          bne     DiagBaseOK
102C 8E109E           (         test.asm):00064 (3)     75          ldx     #DiagFailMsg
102F AD9FFD1C         (         test.asm):00065 (6+5)   86          jsr     [OutStr]            ; Print fail message
1033 1F60             (         test.asm):00066 (4)     90          tfr     W,D                 ; Copy the error count over to D
1035 AD9FFD2C         (         test.asm):00067 (6+5)   101         jsr     [BinToBcd]          ; Convert the number of errors in D to decimal
1039 AD9FFD30         (         test.asm):00068 (6+5)   112         jsr     [OutBcd]            ; Print the number
103D AD9FFD1C         (         test.asm):00069 (6+5)   123         jsr     [OutStr]            ; Continue the fail message
1041 2007             (         test.asm):00070 (3)     126         bra     DiagBaseEnd
1043                  (         test.asm):00071                 DiagBaseOK:
1043 8E1097           (         test.asm):00072 (3)     129         ldx     #DiagPassMsg
1046 AD9FFD1C         (         test.asm):00073 (6+5)   140         jsr     [OutStr]
104A                  (         test.asm):00074                 DiagBaseEnd:
104A 39               (         test.asm):00075 (4)     144         rts
                      (         test.asm):00076                 
                      (         test.asm):00077                 ; Diagnostic subroutines
                      (         test.asm):00078                 ; ----------------------
                      (         test.asm):00079                 
104B                  (         test.asm):00080                 DiagTest:
                      (         test.asm):00081                     ; Read a byte and save it for later
104B A684             (         test.asm):00082 (4+0)   148         lda     ,X
104D 3402             (         test.asm):00083 (4+1)   153         pshs    A
                      (         test.asm):00084                     ; Test pattern $00
104F C600             (         test.asm):00085 (2)     155         ldb     #$00
1051 BD1068           (         test.asm):00086 (7)     162         jsr     DiagCellPattern
                      (         test.asm):00087                     ; Test pattern $55
1054 C655             (         test.asm):00088 (2)     164         ldb     #$55
1056 BD1068           (         test.asm):00089 (7)     171         jsr     DiagCellPattern
                      (         test.asm):00090                     ; Test pattern $AA
1059 C6AA             (         test.asm):00091 (2)     173         ldb     #$AA
105B BD1068           (         test.asm):00092 (7)     180         jsr     DiagCellPattern
                      (         test.asm):00093                     ; Test pattern $FF
105E C6FF             (         test.asm):00094 (2)     182         ldb     #$FF
1060 BD1068           (         test.asm):00095 (7)     189         jsr     DiagCellPattern
                      (         test.asm):00096                     ; Restore original data in cell
1063 3502             (         test.asm):00097 (4+1)   194         puls    A
1065 A784             (         test.asm):00098 (4+0)   198         sta     ,X
1067 39               (         test.asm):00099 (4)     202         rts
                      (         test.asm):00100                 
1068                  (         test.asm):00101                 DiagCellPattern:
                      (         test.asm):00102                     ; B = Test pattern
                      (         test.asm):00103                     ; X = Current cell pointer
1068 E784             (         test.asm):00104 (4+0)   206         stb     ,X                  ; Store test pattern in memory
106A A684             (         test.asm):00105 (4+0)   210         lda     ,X                  ; Read back memory
106C 103789           (         test.asm):00106 (4)     214         cmpr    A,B                 ; Does the memory cell match the pattern after read back
106F 2702             (         test.asm):00107 (3)     217         beq     DiagCellEnd         ; If it's the same, test with pattern AA
1071 105C             (         test.asm):00108 (2)     219         incw                        ; Increment error count
                      (         test.asm):00109                     ; *** Print cell error
1073                  (         test.asm):00110                 DiagCellEnd:
1073 39               (         test.asm):00111 (4)     223         rts
                      (         test.asm):00112                 
1074                  (         test.asm):00113                 DiagMessage:
1074 446961676E6F7374 (         test.asm):00114                     .str    "Diagnostics"
     696373
107F 0D0A00           (         test.asm):00115                     .db     CR,LF,NULL
1082                  (         test.asm):00116                 DiagTestingMsg:
1082 202054657374696E (         test.asm):00117                     .str    "  Testing Base RAM: "
     6720426173652052
     414D3A20
1096 00               (         test.asm):00118                     .db     NULL
1097                  (         test.asm):00119                 DiagPassMsg:
1097 50617373         (         test.asm):00120                     .str    "Pass"
109B 0D0A00           (         test.asm):00121                     .db     CR,LF,NULL
109E                  (         test.asm):00122                 DiagFailMsg:
109E 4661696C2C20     (         test.asm):00123                     .str    "Fail, "
10A4 00               (         test.asm):00124                     .db     NULL
10A5 206572726F7273   (         test.asm):00125                     .str    " errors"
10AC 0D0A00           (         test.asm):00126                     .db     CR,LF,NULL
                      (         test.asm):00127                 
10AF                  (         test.asm):00128                 PrgEnd: 
                      (         test.asm):00129                     
                      (         test.asm):00130                     END

Symbol Table:
[ G] AscToBinByte                     FD22
[ G] AscToBinNibble                   FD20
[ G] AscToBinWord                     FD24
[ G] BinToAscByte                     FD28
[ G] BinToAscNibble                   FD26
[ G] BinToAscWord                     FD2A
[ G] BinToBcd                         FD2C
[ G] BS                               0008
[ G] Cls                              FD00
[ G] CR                               000D
[ G] DelChar                          FD02
[ G] DiagBase                         100E
[ G] DiagBaseEnd                      104A
[ G] DiagBaseLoop                     101E
[ G] DiagBaseOK                       1043
[ G] DiagCellEnd                      1073
[ G] DiagCellPattern                  1068
[ G] DiagFailMsg                      109E
[ G] DiagMessage                      1074
[ G] Diagnostics                      1007
[ G] DiagPassMsg                      1097
[ G] DiagTest                         104B
[ G] DiagTestingMsg                   1082
[ G] EOD                              00FF
[ G] ESC                              001B
[ G] GetStrByte                       FD04
[ G] GetStrNibble                     FD06
[ G] GetStrWord                       FD08
[ G] InByte                           FD0A
[ G] InChar                           FD0C
[ G] InCharNW                         FD0E
[ G] InStr                            FD10
[ G] InWord                           FD12
[ G] LF                               000A
[ G] NULL                             0000
[ G] OutBcd                           FD30
[ G] OutByte                          FD16
[ G] OutChar                          FD14
[ G] OutCRLF                          FD18
[ G] OutNibble                        FD1A
[ G] OutStr                           FD1C
[ G] OutWord                          FD1E
[ G] PrgEnd                           10AF
[ G] RomStart                         E000
[ G] SPACE                            0020
[ G] Start                            1000
[ G] TAB                              0009
[ G] UpperCase                        FD2E
